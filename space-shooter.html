<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸš€ Space Shooter Game</title>
<style>
  body {
    background-color: black;
    color: white;
    text-align: center;
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
  }
  h1 {
    margin-top: 10px;
    color: cyan;
  }
  canvas {
    background: radial-gradient(circle at center, #000020, #000);
    border: 2px solid cyan;
    display: block;
    margin: 20px auto;
    box-shadow: 0 0 20px cyan;
    border-radius: 10px;
  }
  #overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 30, 0.9);
    padding: 30px;
    border-radius: 15px;
    border: 2px solid cyan;
    display: none;
  }
  #overlay h2 {
    color: red;
    font-size: 2.5rem;
  }
  #restartBtn {
    background: cyan;
    color: black;
    border: none;
    padding: 10px 25px;
    font-size: 1.1rem;
    border-radius: 10px;
    cursor: pointer;
    margin-top: 15px;
    transition: 0.3s;
  }
  #restartBtn:hover {
    background: white;
    color: black;
  }
</style>
</head>
<body>
<h1>ðŸš€ Space Shooter Game</h1>
<canvas id="gameCanvas" width="400" height="600"></canvas>

<div id="overlay">
  <h2 id="gameOverText">GAME OVER</h2>
  <p id="finalScore"></p>
  <button id="restartBtn">Restart Game</button>
</div>

<!-- Sound Effects -->
<audio id="shootSound" src="https://assets.mixkit.co/sfx/preview/mixkit-retro-arcade-casino-notification-211.wav"></audio>
<audio id="explosionSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-retro-game-over-213.wav"></audio>
<audio id="gameOverSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-retro-game-over-213.wav"></audio>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

// Sounds
const shootSound = document.getElementById("shootSound");
const explosionSound = document.getElementById("explosionSound");
const gameOverSound = document.getElementById("gameOverSound");

let player, bullets, enemies, score, gameOver;
let keys = {};

function resetGame() {
  player = { x: canvas.width/2 - 20, y: canvas.height-80, width: 40, height: 60, lives: 3 };
  bullets = [];
  enemies = [];
  score = 0;
  gameOver = false;
  document.getElementById("overlay").style.display = "none";
  gameLoop();
}

window.addEventListener("keydown", e => keys[e.key] = true);
window.addEventListener("keyup", e => keys[e.key] = false);

function shoot() {
  bullets.push({ x: player.x + player.width/2 -3, y: player.y, width:6, height:15, speed:7 });
  shootSound.currentTime = 0;
  shootSound.play();
}

function createEnemy() {
  const size = 40;
  enemies.push({ x: Math.random()*(canvas.width-size), y:-size, width:size, height:size, speed:2+Math.random()*2 });
}

function checkCollision(a,b) {
  return a.x < b.x + b.width && a.x + a.width > b.x && a.y < b.y + b.height && a.y + a.height > b.y;
}

function updateGame() {
  if(gameOver) return;
  if(keys["ArrowLeft"] && player.x>0) player.x -= 5;
  if(keys["ArrowRight"] && player.x+player.width<canvas.width) player.x +=5;
  if(keys[" "] && bullets.length<10){ shoot(); keys[" "] = false; }

  bullets.forEach((b,i)=>{ b.y -= b.speed; if(b.y<0) bullets.splice(i,1); });

  enemies.forEach((e,i)=>{
    e.y += e.speed;
    if(checkCollision(e,player)){
      enemies.splice(i,1);
      player.lives--;
      explosionSound.currentTime = 0;
      explosionSound.play();
      if(player.lives <=0) endGame();
    }
    if(e.y>canvas.height) enemies.splice(i,1);
  });

  bullets.forEach((b,i)=>{
    enemies.forEach((e,j)=>{
      if(checkCollision(b,e)){
        enemies.splice(j,1);
        bullets.splice(i,1);
        explosionSound.currentTime = 0;
        explosionSound.play();
        score+=10;
      }
    });
  });

  if(Math.random()<0.02) createEnemy();
}

function drawRocket(x,y,width,height){
  ctx.save();
  ctx.translate(x + width/2, y + height/2);
  // Body
  ctx.fillStyle="cyan";
  ctx.beginPath();
  ctx.moveTo(0,-height/2);
  ctx.lineTo(width/2,height/2);
  ctx.lineTo(-width/2,height/2);
  ctx.closePath();
  ctx.fill();
  // Window
  ctx.beginPath();
  ctx.arc(0,-height/4,6,0,Math.PI*2);
  ctx.fillStyle="white";
  ctx.fill();
  // Flame
  ctx.beginPath();
  ctx.moveTo(-width/4,height/2);
  ctx.lineTo(width/4,height/2);
  ctx.lineTo(0,height/2 + 15);
  ctx.closePath();
  ctx.fillStyle="orange";
  ctx.fill();
  ctx.restore();
}

function drawGame(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawRocket(player.x, player.y, player.width, player.height);
  ctx.fillStyle="yellow";
  bullets.forEach(b=>ctx.fillRect(b.x,b.y,b.width,b.height));
  ctx.fillStyle="red";
  enemies.forEach(e=>ctx.fillRect(e.x,e.y,e.width,e.height));
  ctx.fillStyle="white";
  ctx.font="18px Arial";
  ctx.fillText(`Score: ${score}`,10,20);
  ctx.fillText(`Lives: ${player.lives}`,canvas.width-90,20);
}

function endGame(){
  gameOver=true;
  gameOverSound.play();
  document.getElementById("overlay").style.display="block";
  document.getElementById("finalScore").innerText=`Final Score: ${score}`;
}

function gameLoop(){ if(!gameOver){ updateGame(); drawGame(); requestAnimationFrame(gameLoop); } }

document.getElementById("restartBtn").addEventListener("click", resetGame);

resetGame();
</script>
</body>
</html>
